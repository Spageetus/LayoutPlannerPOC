<canvas id="design-canvas" width="950" height="400">I am the main canvas</canvas>


<script>
    //TODO: Rewrite ALL of this
    var canvas = document.getElementById("design-canvas");
    var ctx = canvas.getContext("2d");
    var defaultCellSize = 20;
    var cellSize = defaultCellSize;
    var width = canvas.width;
    var height = canvas.height;

    drawGrid();

   

    function drawGrid()
    {
        
        cellSize = defaultCellSize
        let currX = 0;
        let currY = 0;
        let columns = Math.trunc(width/cellSize);
        let rows = Math.trunc(height/cellSize);

        clearCanvas();

        ctx.lineWidth = 2;
        ctx.fillStyle = "black";
        ctx.beginPath();
        //draw vertical lines
        //TODO: Increase width of every 8th grid line (size of foundations)
        for(let i = 0; i < columns; i++)
        {
            currX += cellSize;
            currY = -offsetY/currentZoom;
            ctx.moveTo(currX, currY);
            ctx.lineTo(currX, height);
        }
        ctx.stroke();
        currX = 0;
        currY = -offsetY/currentZoom;
        //draw horizontal lines
        for(let i = 0; i < rows; i++)
        {
            currY += cellSize;
            currX = -offsetX/currentZoom;
            ctx.moveTo(currX, currY);
            ctx.lineTo(width, currY);
        }
        ctx.stroke();
       
        ctx.closePath();
    }

    function clearCanvas()
    {
        //resizing canvas clears everything on it
        canvas.width = canvas.width;
        canvas.height = canvas.height;

        console.log("Clearing canvas...");
    }

   

</script>